<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Sheldon (NAS) - mac-setup</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Sheldon (NAS)";
    var mkdocs_page_input_path = "sheldon/index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/php.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> mac-setup</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about.html">About mac-setup</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Argomenti</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../topics/mac-installation.html">Installazione di un computer da zero</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../topics/dotfiles.html">dotfiles</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../topics/mac-automation.html">mac-automation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../topics/macos-defaults.html">macOS defaults</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../topics/dev-config.html">Configurazioni di sviluppo</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Applicazioni</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/index.html">Tutte le applicazioni</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/1password.html">1Password</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/bash.html">bash</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/bash-it.html">bash-it</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/dotbot.html">dotbot</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/dropbox.html">Dropbox</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/exactscan.html">ExactScan</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/git.html">git</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/goodsync.html">GoodSync</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/google-drive.html">Google Drive</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/homebrew.html">Homebrew</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/inputrc.html">.inputrc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/iterm2.html">iTerm2</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/launchbar.html">LaunchBar</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/mackup.html">mackup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/mkdocs.html">mkdocs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/oh-my-zsh.html">oh-my-zsh</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/spotify-cli.html">Spotify CLI</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/ssh.html">ssh</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../applications/zsh.html">zsh</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">mac-setup</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Sheldon (NAS)</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/magobaol/mac-setup/edit/master/docs/sheldon/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="sheldon-nas">Sheldon (NAS)</h1>
<p>Ovviamente queste info andrebbe da qualche altra parte, oppure questo progetto dovrebbe chiamarsi in modo più generico di "mac-setup", ma pazienza.</p>
<ul>
<li><a href="transmission.html">Transmission</a></li>
<li><a href="kodi.html">Kodi</a></li>
</ul>
<h2 id="login-page">Login page</h2>
<p>A partire da una certa versione di QTS, i geni hanno cambiato la pagina di login mettendo una <code>textarea</code> al posto di un <code>input</code> per lo username, e questo impedisce a 1Password di funzionare.<br />
<a href="https://1password.community/discussion/comment/572888/#Comment_572888">Qui</a> ho trovato un semplice tampermonkey per risolvere, e l'ho installato (è anche salvato in <code>vita-digitale/mac-automation</code>)</p>
<h2 id="hbs">HBS</h2>
<p>Ci sarebbe tantissimo da scrivere, ma per il momento lascio il riferimento a un thread che spiega bene le differenze tra backup, sync etc. (Ricorda che un backup con Dedup disattivato agisce praticamente come un sync).<br />
<a href="https://forum.qnap.com/viewtopic.php?t=153272">https://forum.qnap.com/viewtopic.php?t=153272</a></p>
<h2 id="goodsync">GoodSync</h2>
<pre><code>cd /share/MD0_DATA/.qpkg/gs-server/

./gsync_x64new /gs-account-enroll=francesco.face@gmail.com

./gsync_x64new /activate

./gsync_x64new /sync-jobs-accts

./gsync_x64new sync &quot;francesco - docs&quot;
</code></pre>

<h2 id="connessione-diretta">Connessione diretta</h2>
<p>Il NAS può essere collegato direttamente al computer solo tramite LAN, tramite <a href="https://www.qnap.com/en/how-to/knowledge-base/article/how-to-set-up-a-direct-connection-test/">questa procedura</a>: per spostare grosse quantità di dati ne vale la pena, perché si passa da circa 2.5 MB/s a circa 70 MB/s.</p>
<h2 id="shell">Shell</h2>
<p>Quando si fa login in ssh, viene mostrata una fastidiosa console di management, a causa di questa riga contenuta nel file <code>/etc/profile</code></p>
<pre><code class="bash">[[ &quot;admin&quot; = &quot;$USER&quot; ]] &amp;&amp; /sbin/qts-console-mgmt -f
</code></pre>

<p>Il file <code>/etc/profile</code> viene riscritto ad ogni riavvio, quindi il supporto QNAP mi aveva suggerito di rimuovere la riga tramite sed usando <code>autorun.sh</code> come <a href="https://wiki.qnap.com/wiki/Running_Your_Own_Application_at_Startup">descritto qui</a> (la sezione che interessa a me per Sheldon è quella "All HAL-based Intel and AMD NAS use ...").<br />
Pare però che il trucchetto non funzioni per <code>/etc/profile</code>, quindi ho creato un file in <code>/share/homes/admin</code> chiamato <code>fix-shell.sh</code> con questo contenuto:</p>
<pre><code class="bash">sed -i '/qts-console-mgmt/d' /etc/profile
sed -i &quot;s/alias ls='\/bin\/ls -F'/alias ls='\/bin\/ls -F --color'/&quot; /etc/profile
</code></pre>

<p>(la seconda riga provvede a colorare la shell).<br />
Potrei richiamare il file con un cron una volta al giorno, tanto per essere sicuro che venga eseguito, ma visto che non prevedo di riavviare spesso il nas mi va bene anche chiamarlo manualmente quando mi capita di riavviarlo.</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/magobaol/mac-setup/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
