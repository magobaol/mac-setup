<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>About mac-setup - mac-setup</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "About mac-setup";
    var mkdocs_page_input_path = "about.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/php.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> mac-setup</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="index.html">Home</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="about.html">About mac-setup</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#navigazione-in-locale">Navigazione in locale</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#deploy-su-internet">Deploy su internet</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#server-personale">Server personale</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#github-pages">Github pages</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#indice-delle-applicazioni">Indice delle applicazioni</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#navbar">Navbar</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#syntax-highlighting">Syntax highlighting</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#blocchi-note">Blocchi note</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#aggiornamento-documentazione">Aggiornamento documentazione</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#aggiornamento-da-locale">Aggiornamento da locale</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#aggiornamento-da-gh-pages">Aggiornamento da GH Pages</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Argomenti</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="topics/mac-installation.html">Installazione di un computer da zero</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="topics/dotfiles.html">dotfiles</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="topics/mac-automation.html">mac-automation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="topics/macos-defaults.html">macOS defaults</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="topics/dev-config.html">Configurazioni di sviluppo</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Applicazioni</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="applications/index.html">Tutte le applicazioni</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/1password.html">1Password</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/bash.html">bash</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/bash-it.html">bash-it</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/dotbot.html">dotbot</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/dropbox.html">Dropbox</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/exactscan.html">ExactScan</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/git.html">git</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/goodsync.html">GoodSync</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/google-drive.html">Google Drive</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/homebrew.html">Homebrew</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/inputrc.html">.inputrc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/iterm2.html">iTerm2</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/launchbar.html">LaunchBar</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/mackup.html">mackup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/mkdocs.html">mkdocs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/oh-my-zsh.html">oh-my-zsh</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/spotify-cli.html">Spotify CLI</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/ssh.html">ssh</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="applications/zsh.html">zsh</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">mac-setup</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>About mac-setup</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/magobaol/mac-setup/edit/master/docs/about.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="informazioni-su-questa-documentazione">Informazioni su questa documentazione</h1>
<p>Volevo un posto in cui raccogliere istruzioni per la configurazione del mac e volevo che fossero facilmente navigabili.<br />
Tool per creare blog statici come Jekyll non mi sembravano la soluzione migliore, quindi ho provato strumenti per creare documentazione.</p>
<p>I requisiti del tool erano:  </p>
<ul>
<li>Che generasse la documentazione a partire da file markdown</li>
<li>Che la documentazione generata potesse essere navigata localmente come se fosse online</li>
<li>Che l'eventuale deploy online fosse molto semplice</li>
<li>Che la documentazione generata avesse un aspetto gradevole</li>
</ul>
<p>I candidati sono stati <a href="https://docsify.js.org/">Docsify</a> e <a href="https://www.mkdocs.org/">MkDocs</a> e alla fine ha vinto quest'ultimo.<br />
Le informazioni generali sono su <a href="applications/mkdocs.html">mkdocs</a>, mentre qui di seguito ci sono le configurazioni che ho usato per questo progetto.</p>
<h2 id="navigazione-in-locale">Navigazione in locale</h2>
<p>MkDocs di default serve ogni pagina come se fosse una directory, per cui per esempio <code>http://localhost:8000/applications/1password/</code> ma questo rendeva la documentazione non navigabile aprendo i file da file system in un browser. 
Impostando il parametro </p>
<pre><code>use_directory_urls: false
</code></pre>

<p>la URL diventa <code>http://localhost:8000/applications/1password.html</code> e quindi da file system è raggiungibile tramite <code>file:///Users/francesco/Dropbox/docs/francesco/vita%20digitale/mac-setup/site/applications/1password.html</code> e il sito è interamente navigabile tramite browser. </p>
<div class="admonition nota">
<p class="admonition-title">Nota</p>
<p>il plugin Gesturify di Chrome non funziona sui file locali, e quindi la navigazione è leggermente meno piacevole, ma non ci posso fare niente.</p>
</div>
<p>Per avere la documentazione aggiornata in locale è necessario fare un <code>mkdocs build</code>, che ricrea il contenuto della cartella <code>site</code>, che è poi quello che vado ad aprire localmente. È un passaggio in più che probabilmente con Docsify non sarebbe stato necessario, ma gli altri  vantaggi di MkDocs mi hanno comunque fatto accettare il compromesso. Ed è comunque probabile che se mi metto a scrivere della documentazione faccio partire il server di MkDocs per verificare quello che sto scrivendo, quindi la build è fatta comunque.</p>
<h2 id="deploy-su-internet">Deploy su internet</h2>
<p>Mi piace l'idea di poter raggiungere questa documentazione facilmente anche se non ho a disposizione il mio computer. Ovviamente, essendo tutto in un repo Github, è abbastanza semplice, anche perché Github renderizza automaticamente i file markdown e consente persino la navigazione dei link, quindi in teoria mi potrei accontentare.<br />
Però volevo qualcosa di più, volevo proprio la documentazione generata raggiungibile, quindi ho seguito alcune possibilità.</p>
<h3 id="server-personale">Server personale</h3>
<p>La prima è stata quella di pubblicare tutto su www.francescoface.it/mac-setup, con l'idea di proteggere la documentazione da password, ma questo ultimo passaggio non è semplice. Potrei usare un <code>.htaccess</code> ma il browser non salva la password, quindi dovrei inserirla di continuo.
Ci sarebbero delle alternative, ma prevedono tutte configurazioni e lavoro che non ho davvero voglia di fare.</p>
<p>Comunque, facendo i test, ho creato lo script <code>bin/build-sync.sh</code> che esegue il build del sito e poi fa un rsync della cartella sul server. Lo lascio per riferimenti futuri, anche se non credo che lo userò più.</p>
<h3 id="github-pages">Github pages</h3>
<p>Visto che non posso proteggere da password il tutto, tanto valeva provare a usare GH Pages (che non è possibile proteggere da password, neanche se il repo è privato), che è persino supportato direttamente da MkDocs.</p>
<p>Con il comando <code>mkdocs gh-deploy</code> MkDocs fa la build del sito e la carica su un branch chiamato <code>gh-pages</code> all'interno dello stesso repo. Nei settings del repo su Github gli si dice che il branch per le Pages è quello e il gioco è fatto. Davvero troppo semplice per andare a cercare altre soluzioni.</p>
<h2 id="indice-delle-applicazioni">Indice delle applicazioni</h2>
<p>Mi piaceva l'idea che potessi aggiungere la documentazione di un'applicazione semplicemente creando un nuovo file, senza dover agire su altre parti della documentazione per creare un link.
Quindi con l'uso di un hook di pre-commit (<code>hooks/pre-commit-hooks/00-generate-applications-index</code>) e un piccolo script bash (<code>bin/create-applications-index.sh</code>) sono riuscito a farlo.</p>
<div class="admonition nota">
<p class="admonition-title">Nota</p>
<p>Gli hook di Git sono salvati nella directory <code>hooks</code> in modo da poter essere versionati e distribuiti nello stesso repo in cui sono utilizzati, ma per fare in modo che Git li usi effettivamente nel repo vanno "installati", e questo viene fatto tramite <code>bin/install-git-hooks.sh</code></p>
</div>
<h2 id="navbar">Navbar</h2>
<p>Mi piaceva avere l'elenco di tutte le applicazioni direttamente nella navbar, e se avessi omesso completamente la sezione <code>nav</code> nel file <code>mkdocs.yml</code> MkDocs avrebbe fatto tutto da solo, però avrebbe messo tutto in ordine alfabetico e io volevo avere il controllo almeno della sezione topics.  </p>
<p>Avevo pensato di creare qualche automazione come quella fatta per creare la pagina indice delle applicazioni, ma poi ho visto che mkdocs, durante la build, elenca le pagine che sono presenti in una directory e non sono invece presenti nella navbar, quindi ho pensato che non valeva la pena sbattersi a creare un'automazione quando mi basta fare un check e un veloce copia/incolla quando aggiungo un'applicazione.</p>
<div class="admonition nota">
<p class="admonition-title">Nota</p>
<p>Dopo aver deciso di mostrare tutte le applicazioni nella navbar, mi rendo conto che la pagina con l'indice delle applicazioni perde un po' di senso, ma ho preferito lasciarla comunque perché tra hook di pre-commit e un po' di bash, lo script può tornare utile in futuro.</p>
</div>
<h2 id="syntax-highlighting">Syntax highlighting</h2>
<pre><code class="yml">theme:
  name: readthedocs
  highlightjs: true
  hljs_languages:
    - php
    - yaml
</code></pre>

<p>Con queste impostazioni si riesce ad avere il syntax highlighting nei fenced blocchi (come quello qui sopra). Non mi <em>sembra</em> che quella per php funzioni.</p>
<h2 id="blocchi-note">Blocchi note</h2>
<p>I blocchi di testo come le note azzurrine presenti in questa pagina non sono automaticamente a disposizione in MkDocs, ma va abilitata un'estensione speciale per il markdown, come suggerito <a href="https://github.com/mkdocs/mkdocs/issues/1659">qui</a>.</p>
<pre><code class="yaml">markdown_extensions:
  - admonition
</code></pre>

<p>Mi rendo conto che in questo modo il markdown di questa documentazione diventa un po' meno standard, ma pazienza.</p>
<p>I blocchi disponibili, per quanto ho potuto scoprire, sono:</p>
<div class="admonition nota">
<p class="admonition-title">Nota</p>
<p>Questo è un blocco generico di info. Dopo i tre <code>!!!</code> può essere scritta qualsiasi cosa e verrà utilizzata come titolo del blocco.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Questo è un blocco giallo, di warning. Non so se in questo caso il titolo può essere personalizzato.</p>
</div>
<div class="admonition error">
<p class="admonition-title">Error</p>
<p>Questo è un blocco rosso, di errore. Non so se in questo caso il titolo può essere personalizzato.</p>
</div>
<h2 id="aggiornamento-documentazione">Aggiornamento documentazione</h2>
<p>La documentazione può essere aggiornata in due modi: agendo sui file locali oppure modificando il repo direttamente su Gitbub.</p>
<h3 id="aggiornamento-da-locale">Aggiornamento da locale</h3>
<p>Modificare i file e magari lanciare il server di MkDocs per verificare che il tutto sia a posto è probabilmente la cosa più semplice.
Poi facendo i normali commit e push per versionare tutto e, volendo mandarla su GH Pages, facendo <code>mkserve gh-deploy</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Per modificare i file in locale è opportuno utilizzare il più semplice editor di testo possibile. Meglio evitare Bear (che comunque non può lavorare su filesystem) o anche Ulysses, perché usa delle convenzioni markdown (per esempio mette i link come note in fondo alla pagina) che non mi convincono del tutto.
La cosa migliore che è trovato è stato VSCode, persino senza preview integrata, perché tanto uso il server di mkdocs.</p>
</div>
<h3 id="aggiornamento-da-gh-pages">Aggiornamento da GH Pages</h3>
<p>Le pagine possono essere modificate anche direttamente su Github, seguendo il link <strong>Edit on Github</strong> presente in ogni pagina: in questo secondo caso, bisogna poi fare un <code>git pull</code> in locale se si vuole tenere tutto in sync.<br />
Se si modifica direttamente su Github, inoltre, il deploy su GH Pages non è automatico, quindi probabilmente non vale la pena usare questo metodo.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="topics/mac-installation.html" class="btn btn-neutral float-right" title="Installazione di un computer da zero">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/magobaol/mac-setup/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="topics/mac-installation.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
